{{! ================================================================================================================= }}
{{! Platform updates                                                                                       }}
{{! ================================================================================================================= }}

{{!
// TODO: Add anotations.
}}

{{#and widgetConfig.button (compare widgetConfig.button.link "!==" "")}}
  {{assign "widgetWithButton" true}}
{{else}}
  {{assign "widgetWithButton" false}}
{{/and}}

{{! ================================================================================================================= }}

{{#table class="widget w-platform set-max-width"}}
  {{>widget-header
    header=widgetConfig.widget.header
    icon=widgetConfig.widget.icon
  }}

  {{!--
  // TODO: Maybe move title and description to a component.
  --}}
  <tr>
    <td class="widget-description{{#unless @root.widgetWithButton}} -no-button{{/unless}}" responsive="mobile-padding-horizontal-sides">
      <div class="widget-wrapper">

        {{>widget-banner
          widgetClass="banner-icon"
          imgSrc=widgetConfig.banner
          imgAlt=widgetConfig.title
          link="#"
        }}

        {{#if widgetConfig.title}}
        <h3 class="content-title">
          {{#if widgetConfig.link}}<a href="{{{widgetConfig.link}}}" target="_blank">{{/if}}
            {{{widgetConfig.title}}}
            {{#if widgetConfig.link}}</a>{{/if}}
        </h3>
        {{/if}}

        {{#each widgetConfig.description}}
        <p>{{{this}}}</p>
        {{/each}}

        {{#if widgetConfig.title2}}
        <h3 class="content-title">
          {{#if widgetConfig.link}}<a href="{{{widgetConfig.link}}}" target="_blank">{{/if}}
            {{{widgetConfig.title2}}}
            {{#if widgetConfig.link}}</a>{{/if}}
        </h3>
        {{/if}}

        {{#each widgetConfig.description2}}
        <p>{{{this}}}</p>
        {{/each}}

        {{#if widgetConfig.title3}}
        <h3 class="content-title">
          {{#if widgetConfig.link}}<a href="{{{widgetConfig.link}}}" target="_blank">{{/if}}
            {{{widgetConfig.title3}}}
            {{#if widgetConfig.link}}</a>{{/if}}
        </h3>
        {{/if}}

        {{#each widgetConfig.description3}}
        <p>{{{this}}}</p>
        {{/each}}

        {{!
        // TODO: Move to `widget-button` component.
        }}

        {{#if @root.widgetWithButton}}
          <div class="widget-button">
            {{#uiButton presetStyle=widgetConfig.button.style href=(concat widgetConfig.button.link (utmVariables widgetConfig.button.utm))}}
              {{widgetConfig.button.text}}
            {{/uiButton}}
          </div>
        {{/if}}
      </div>
    </td>
  </tr>
{{/table}}
