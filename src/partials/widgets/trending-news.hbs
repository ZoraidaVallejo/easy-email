{{! ================================================================================================================= }}
{{! I N S I D E   J U S T I A                                                                                         }}
{{! ================================================================================================================= }}

{{!
// TODO: Add anotations.
}}
{{!
    * @param {Object}   trendingNews
    * @param {Object[]} trendingNews.events
    * @param {number}   trendingNews.news[].title
    * @param {string}   trendingNews.news[].link
}}

{{! ================================================================================================================= }}

{{#table class="widget w-trending-news set-max-width"}}

  {{#if trendingNews.widget.iconSrc}}
    {{>widget-header
      header=trendingNews.widget.header
      iconSrc=trendingNews.widget.iconSrc
    }}
  {{else}}
    {{>widget-header
      header=trendingNews.widget.header
      icon=trendingNews.widget.icon
    }}
  {{/if}}

  <tr>
    <td class="widget-description{{#unless @root.widgetWithButton}} -no-button{{/unless}}" responsive="mobile-padding-horizontal-sides">
        <p class="subtitle">{{{trendingNews.subtitle}}}</p>
    </td>
  </tr>
    {{#each trendingNews.columns}}

      {{!--
      // TODO: Maybe move title and description to a component.
      // TODO: Fix classes for content.
      --}}

        <tr>
          <td class="widget-description -no-button" responsive="mobile-padding-horizontal-sides">
            
            {{#if this.colored}}
            <p class="category -{{{this.colored}}}">
                {{{this.category}}}
               </p>
            {{else}}
            <p class="category">
                {{{this.category}}}
               </p>
            {{/if}}

            {{#each this.news}}
            <p class="news">
              
                {{#and this.link (compare this.link "!==" "")}}<a href="{{{this.link}}}" target="_blank">{{/and}}
                    <b>{{{this.title}}}</b>
                {{#and this.link (compare this.link "!==" "")}}</a>{{/and}}
              </p>
            {{/each}}
          </td>
        </tr>
    {{/each}}

{{/table}}
