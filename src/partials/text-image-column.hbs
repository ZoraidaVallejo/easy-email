{{!
 * @param {String} widgetClass
 * @param {Object} widgetConfig
}}

{{#gt (length widgetConfig.blocks) 1}}
  {{assign "textImageAllClasses" (concat "w-text-image" widgetClass "-multiple" "set-max-width" separator=" ")}}
{{else}}
  {{assign "textImageAllClasses" (concat "w-text-image" widgetClass "set-max-width" separator=" ")}}
{{/gt}}

{{#table class=@root.textImageAllClasses}}

  {{#gt (length widgetConfig.blocks) 1}}
    <tr>
      <td class="main-title" responsive="mobile-padding-horizontal-sides">
        {{>widget-header section=widgetConfig.sectionName title=false}}
      </td>
    </tr>
  {{/gt}}

  <tr>
    <td class="rows-wrapper" responsive="mobile-padding-horizontal-sides">
      {{#forEach widgetConfig.blocks}}
        {{#table align="" class=(concat "row-item -itm-" index)}}
          <tr>
            <td class="description" responsive="collapse-one">
              {{#eq (length ../widgetConfig.blocks) 1}}
                {{>widget-header section=../widgetConfig.sectionName title=false}}
              {{/eq}}

              <p class="title">{{{this.title}}}</p>
              {{#each this.description}}
                <p>{{{this}}}</p>
              {{/each}}
            </td>
            <td class="image" responsive="mobile-hide">
              {{#if this.image.src}}
                {{#if this.image.link}}<a href="{{{this.image.link}}}" target="_blank">{{/if}}
                  <img src="{{resolveFilePath this.image.src}}" alt="{{this.title}}" border="0" />
                {{#if this.image.link}}</a>{{/if}}
              {{else}}
                &nbsp;
              {{/if}}
            </td>
          </tr>
        {{/table}}
      {{/forEach}}
    </td>
  </tr>
{{/table}}
